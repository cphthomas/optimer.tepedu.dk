{"ast":null,"code":"/*global require*/\nvar Tableau = require(\"./Tableau.js\");\n\nfunction VariableData(index, value) {\n  this.index = index;\n  this.value = value;\n} //-------------------------------------------------------------------\n//-------------------------------------------------------------------\n\n\nTableau.prototype.getMostFractionalVar = function () {\n  var biggestFraction = 0;\n  var selectedVarIndex = null;\n  var selectedVarValue = null;\n  var mid = 0.5;\n  var integerVariables = this.model.integerVariables;\n  var nIntegerVars = integerVariables.length;\n\n  for (var v = 0; v < nIntegerVars; v++) {\n    var varIndex = integerVariables[v].index;\n    var varRow = this.rowByVarIndex[varIndex];\n\n    if (varRow === -1) {\n      continue;\n    }\n\n    var varValue = this.matrix[varRow][this.rhsColumn];\n    var fraction = Math.abs(varValue - Math.round(varValue));\n\n    if (biggestFraction < fraction) {\n      biggestFraction = fraction;\n      selectedVarIndex = varIndex;\n      selectedVarValue = varValue;\n    }\n  }\n\n  return new VariableData(selectedVarIndex, selectedVarValue);\n}; //-------------------------------------------------------------------\n//-------------------------------------------------------------------\n\n\nTableau.prototype.getFractionalVarWithLowestCost = function () {\n  var highestCost = Infinity;\n  var selectedVarIndex = null;\n  var selectedVarValue = null;\n  var integerVariables = this.model.integerVariables;\n  var nIntegerVars = integerVariables.length;\n\n  for (var v = 0; v < nIntegerVars; v++) {\n    var variable = integerVariables[v];\n    var varIndex = variable.index;\n    var varRow = this.rowByVarIndex[varIndex];\n\n    if (varRow === -1) {\n      // Variable value is non basic\n      // its value is 0\n      continue;\n    }\n\n    var varValue = this.matrix[varRow][this.rhsColumn];\n\n    if (Math.abs(varValue - Math.round(varValue)) > this.precision) {\n      var cost = variable.cost;\n\n      if (highestCost > cost) {\n        highestCost = cost;\n        selectedVarIndex = varIndex;\n        selectedVarValue = varValue;\n      }\n    }\n  }\n\n  return new VariableData(selectedVarIndex, selectedVarValue);\n};","map":null,"metadata":{},"sourceType":"script"}